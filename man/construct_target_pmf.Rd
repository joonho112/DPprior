% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/12_a2_kl.R
\name{construct_target_pmf}
\alias{construct_target_pmf}
\title{Construct Target PMF from User Specification}
\usage{
construct_target_pmf(J, target)
}
\arguments{
\item{J}{Integer; sample size.}

\item{target}{Either:
\itemize{
\item Numeric vector of length J or J+1: direct PMF specification
\item Named list with \code{mu_K} and \code{var_K}: construct from moments
}}
}
\value{
A list with components:
\describe{
\item{\code{pmf}}{Numeric vector of length J; normalized target PMF}
\item{\code{mu_K}}{Target mean}
\item{\code{var_K}}{Target variance}
\item{\code{df}}{(if moments provided) Chi-square degrees of freedom}
\item{\code{scale}}{(if moments provided) Chi-square scale parameter}
}
}
\description{
Creates a normalized target PMF from either a user-provided PMF vector
or target moment specification.
}
\details{
\strong{Direct PMF specification:}
If \code{target} is a numeric vector of length J, it is treated as the PMF
for k = 1, ..., J. If length J+1, the k=0 entry is dropped.

\strong{Moment specification:}
If \code{target} is a list with \code{mu_K} and \code{var_K}, a discretized
chi-square distribution matching these moments is constructed using:
\deqn{\text{scale} = \sigma^2_K / (2\mu_K), \quad \text{df} = 2\mu_K^2 / \sigma^2_K}
}
\examples{
# Direct PMF
result <- construct_target_pmf(50, rep(1, 50))  # Uniform on 1:50

# Moment specification
result <- construct_target_pmf(50, list(mu_K = 5, var_K = 8))
result$mu_K  # 5
result$df    # 6.25

}
\seealso{
\code{\link{discretize_chisq}}, \code{\link{DPprior_a2_kl}}
}
